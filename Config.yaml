mixed-port: 8899
mode: Rule

dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  nameserver:
    - 119.29.29.29

proxy-providers:
  ALL:
    type: http
    path: ./Sub.yaml
    url: *
    interval: 172800
    health-check:
      enable: true
      interval: 6000
      url: http://cp.cloudflare.com/generate_204

proxy-groups:
  - name: TV
    type: select
    proxies:
      - DIRECT
      - PROXY
  - name: PROXY
    type: select
    use:
      - ALL

rule-providers:
  Unbreak:
    type: http
    path: ./Unbreak.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/Unbreak.yaml'
    interval: 172800
  Advertising:
    type: http
    path: ./Ad.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/Advertising.yaml'
    interval: 172800
  Streaming:
    type: http
    path: ./Str.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/Streaming.yaml'
    interval: 172800
  StreamingSE:
    type: http
    path: ./StrSE.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/StreamingSE.yaml'
    interval: 172800
  Global:
    type: http
    path: ./Global.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/Global.yaml'
    interval: 172800
  Domestic:
    type: http
    path: ./Domestic.yaml
    behavior: domain
    url: 'https://fastly.jsdelivr.net/gh/Gomiaco/Rules/RULE-SET/Domestic.yaml'
    interval: 172800

rules:
  - DOMAIN-KEYWORD,scienbizip,DIRECT
  - DOMAIN-KEYWORD,ywsmi,DIRECT
  - DOMAIN-KEYWORD,inquartik,DIRECT
  - DOMAIN-KEYWORD,patentcloud,DIRECT
  - DOMAIN-KEYWORD,wispro,DIRECT
  - DOMAIN-SUFFIX,sapsf.com,DIRECT

  - RULE-SET,Unbreak,DIRECT
  - RULE-SET,Advertising,REJECT
  - RULE-SET,Streaming,PROXY
  - RULE-SET,StreamingSE,TV
  - RULE-SET,Global,PROXY
  - RULE-SET,Domestic,DIRECT

  - GEOIP,CN,DIRECT
  - MATCH,PROXY
